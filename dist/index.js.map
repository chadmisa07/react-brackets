{"version":3,"file":"index.js","sources":["../src/components/round.ts","../src/hooks/useMedia.tsx","../src/components/seed.ts","../src/utils/renders.tsx","../src/brackets/index.tsx"],"sourcesContent":["import styled from 'styled-components';\r\n\r\nexport interface RoundProps {\r\n  seeds: any[];\r\n  title: string;\r\n  [key: string]: any;\r\n}\r\n\r\ninterface BreakPoint {\r\n  mobileBreakpoint?: number;\r\n}\r\n\r\nexport const Bracket = styled.div<BreakPoint>(\r\n  (props) => `\r\n  display: flex;\r\n  flex-direction: row;\r\n  @media (max-width: ${props.mobileBreakpoint}px) {\r\n    flex-direction: column;\r\n  }\r\n  `\r\n);\r\n\r\nexport const Round = styled.div<BreakPoint>(\r\n  (props) => `\r\n  flex: 0;\r\n  // min-width:300px;\r\n  display:flex;\r\n  flex-direction:column;\r\n  @media (max-width: ${props.mobileBreakpoint}px) {\r\n    min-width:0;\r\n  }\r\n  `\r\n);\r\n\r\nexport const RoundTitle = styled.div`\r\n  color: #8f8f8f;\r\n  font-weight: 400;\r\n  text-align: center;\r\n`;\r\nexport const SeedsList = styled.div`\r\n  margin: 0;\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-flow: row wrap;\r\n  justify-content: center;\r\n  height: 100%;\r\n  list-style: none;\r\n`;\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useMedia(breakPoint: number) {\r\n  // checking window object to support server side rendering.\r\n  const [isSmaller, setIsSmaller] = useState(typeof window !== 'undefined' ? window.innerWidth <= breakPoint : false);\r\n\r\n  useEffect(() => {\r\n    function screenResized() {\r\n      // To make sure that the state is only being updated when it has to be\r\n      if (isSmaller && window.innerWidth > breakPoint) {\r\n        setIsSmaller(false);\r\n      } else if (!isSmaller && window.innerWidth <= breakPoint) {\r\n        setIsSmaller(true);\r\n      }\r\n    }\r\n    if (typeof window !== 'undefined') window.addEventListener('resize', screenResized);\r\n\r\n    // to remove the event listener when this component is unmounted.\r\n    return () => {\r\n      if (typeof window !== 'undefined') window.removeEventListener('resize', screenResized);\r\n    };\r\n  }, [isSmaller]);\r\n\r\n  // the return value should be true or false\r\n  return isSmaller;\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport interface SeedProps {\r\n  mobileBreakpoint?: number;\r\n}\r\nexport interface SeedTimeProps {\r\n  mobileBreakpoint?: number;\r\n}\r\n\r\nexport const SeedItem = styled.div`\r\n  color: #fff;\r\n  width: 100%;\r\n  background-color: #1a1d2e;\r\n  padding: 0;\r\n  border-radius: 0.2em;\r\n  box-shadow: 0 2px 4px -2px #111630;\r\n  text-align: center;\r\n  position: relative;\r\n`;\r\n\r\nexport const SeedTeam = styled.div`\r\n  padding: 0.3rem 0.5rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-radius: 0.2em;\r\n  align-items: center;\r\n`;\r\n\r\nexport const SeedTime = styled.div<SeedTimeProps>(\r\n  (props) => `\r\nmargin-top: 2px;\r\nfont-size: 12px;\r\ncolor: #8f8f8f;\r\nheight: 0;\r\n@media (max-width: ${props.mobileBreakpoint}px) {\r\n  height:auto;\r\n}\r\n`\r\n);\r\n\r\n/*\r\n * Difference between \"SingleLineSeed\" and \"Seed\" is that single line seed\r\n * will directly connect to the next node, it's good for double elimination losing brackets.\r\n *\r\n * The best behavior in such case is, to check if the next round seeds matches the current round seeds\r\n */\r\n\r\nexport const SingleLineSeed = styled.div<SeedProps>(\r\n  (props) => `\r\npadding: 1em 1.5em;\r\nmin-width: 225px;\r\nwidth:100%;\r\nposition: relative;\r\ndisplay: flex;\r\nalign-items: center;\r\nflex: 0 1 auto;\r\nflex-direction: column;\r\njustify-content: center;\r\nfont-size: 14px;\r\n@media (max-width: ${props.mobileBreakpoint}px) {\r\n  width:100%;\r\n}\r\n@media (min-width: ${(props.mobileBreakpoint || 0) + 1}px) {\r\n  &::after {\r\n      content: \"\";\r\n      position: absolute;\r\n      height: 50%;\r\n      width: 3em;\r\n    [dir=\"rtl\"] & {\r\n      left: -1.5em;\r\n    }\r\n    [dir=\"ltr\"] & {\r\n      right: -1.5em;\r\n    }\r\n  }\r\n  &:nth-child(even)::after {\r\n    border-bottom: 1px solid #707070;\r\n    top: -0.5px;\r\n  }\r\n  &:nth-child(odd)::after {\r\n    border-top: 1px solid #707070;\r\n    top: calc(50% - 0.5px);\r\n  }\r\n}\r\n`\r\n);\r\n\r\nexport const Seed = styled.div<SeedProps>(\r\n  (props) => `\r\n  padding: 1em 1.5em;\r\n  min-width: 225px;\r\n  width:100%;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 0 1 auto;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  font-size: 14px;\r\n  @media (max-width: ${props.mobileBreakpoint}px) {\r\n    width:100%;\r\n  }\r\n  @media (min-width: ${(props.mobileBreakpoint || 0) + 1}px) {\r\n    &::after {\r\n        content: \"\";\r\n        position: absolute;\r\n        height: 50%;\r\n        width: 1.5em;\r\n      [dir=\"rtl\"] & {\r\n        left: 0px;\r\n      }\r\n      [dir=\"ltr\"] & {\r\n        right: 0px;\r\n      }\r\n    }\r\n\r\n    &:nth-child(even)::before{\r\n      content:'';\r\n      border-top: 1px solid #707070;\r\n      position:absolute;\r\n      top: -0.5px;\r\n      width:1.5em;\r\n      [dir=\"rtl\"] & {\r\n        left:-1.5em;\r\n        }\r\n      [dir=\"ltr\"] & {\r\n        right:-1.5em;\r\n      }\r\n    }\r\n\r\n    &:nth-child(even)::after {\r\n      border-bottom: 1px solid #707070;\r\n      top: -0.5px;\r\n     [dir=\"rtl\"] & {\r\n        border-left: 1px solid #707070;\r\n        }\r\n      [dir=\"ltr\"] & {\r\n        border-right: 1px solid #707070;\r\n      }\r\n    }\r\n    &:nth-child(odd):not(:last-child)::after {\r\n      border-top: 1px solid #707070;\r\n      top: calc(50% - 0.5px);\r\n      [dir=\"rtl\"] & {\r\n        border-left: 1px solid #707070;\r\n        }\r\n      [dir=\"ltr\"] & {\r\n        border-right: 1px solid #707070;\r\n      }\r\n    }\r\n}\r\n`\r\n);\r\n","import React, { ReactNode } from 'react';\r\nimport { Seed, SeedItem, SeedTeam, SeedTime } from '../components/seed';\r\nimport { RoundTitle } from '../components/round';\r\nimport { RenderSeedProps } from '../brackets';\r\n\r\n/* ------------------------- default title component ------------------------ */\r\nexport const renderTitle = (title: ReactNode) => <RoundTitle>{title}</RoundTitle>;\r\n\r\n/* ------------------------- default seed component ------------------------- */\r\nexport const renderSeed = ({ seed, breakpoint }: RenderSeedProps) => {\r\n  return (\r\n    <Seed mobileBreakpoint={breakpoint}>\r\n      <SeedItem>\r\n        <div>\r\n          <SeedTeam>{seed.teams?.[0]?.name || '-----------'}</SeedTeam>\r\n          <SeedTeam>{seed.teams?.[1]?.name || '-----------'}</SeedTeam>\r\n        </div>\r\n      </SeedItem>\r\n      <SeedTime mobileBreakpoint={breakpoint}>{seed.date}</SeedTime>\r\n    </Seed>\r\n  );\r\n};\r\n","import React, { Fragment, ReactNode } from 'react';\nimport { Round, Bracket, SeedsList, RoundProps } from '../components/round';\nimport SwipeableViews, { SwipeableViewsProps } from 'react-swipeable-views';\nimport useMedia from '../hooks/useMedia';\nimport { renderSeed, renderTitle } from '../utils/renders';\n\nexport interface RenderSeedProps {\n  seed: any;\n  breakpoint: number;\n  roundIndex: number;\n  seedIndex: number;\n}\n\nexport interface SingleEliminationProps {\n  // If true, the component direction will be set to RTL\n  rtl?: boolean;\n  // Array of rounds matching RoundProps shape,\n  rounds: RoundProps[];\n  // Single round className\n  roundClassName?: string;\n  /** @default 992, if you don't want a mobile breakpoint, pass 0 */\n  mobileBreakpoint?: number;\n  // The whole bracket className\n  bracketClassName?: string;\n  /** {@link https://github.com/oliviertassinari/react-swipeable-views} to read about it's props  */\n  swipeableProps?: SwipeableViewsProps;\n  /**\n   * @param {ReactNode} title string or component passed with each round\n   * @param {number} round the current round index\n   */\n  roundTitleComponent?: (title: ReactNode, roundIdx: number) => any;\n  /**\n   * @param {object} seed the current seed\n   * @param {number} breakpoint the breakpoint used to determine responsive size\n   * @param {number} roundIdx the current round index\n   */\n  renderSeedComponent?: ({ seed, breakpoint, roundIndex, seedIndex }: RenderSeedProps) => any;\n}\n\nconst SingleElimination = ({\n  rounds,\n  rtl = false,\n  roundClassName,\n  bracketClassName,\n  swipeableProps = {},\n  mobileBreakpoint = 992,\n  renderSeedComponent = renderSeed,\n  roundTitleComponent = renderTitle,\n}: SingleEliminationProps) => {\n  // Checking responsive size\n  const isResponsive = useMedia(mobileBreakpoint);\n  console.log('@@@@@@@@@@@@ rounds >>>>>>>>>>>>>>', rounds);\n  const data = rounds.map((round, roundIdx) => (\n    <Round key={roundIdx} className={roundClassName} mobileBreakpoint={mobileBreakpoint}>\n      {round.title && roundTitleComponent(round.title, roundIdx)}\n      <SeedsList>\n        {round.seeds.map((seed, idx) => (\n          <Fragment key={idx}>\n            {renderSeedComponent({ seed, breakpoint: mobileBreakpoint, roundIndex: roundIdx, seedIndex: idx })}\n          </Fragment>\n        ))}\n      </SeedsList>\n    </Round>\n  ));\n\n  if (isResponsive) {\n    // Since SwipeableViewsProps have an issue that it uses ref inside of it, We need to remove ref from the object\n    const { ref, ...rest } = swipeableProps;\n    return (\n      <Bracket className={bracketClassName} dir={rtl ? 'rtl' : 'ltr'} mobileBreakpoint={mobileBreakpoint}>\n        <SwipeableViews style={{ minHeight: '500px' }} axis={rtl ? 'x-reverse' : 'x'} {...rest}>\n          {data}\n        </SwipeableViews>\n      </Bracket>\n    );\n  }\n  return (\n    <Bracket className={bracketClassName} dir={rtl ? 'rtl' : 'ltr'} mobileBreakpoint={mobileBreakpoint}>\n      {data}\n    </Bracket>\n  );\n};\n\nexport default SingleElimination;\n"],"names":["Bracket","styled","div","props","mobileBreakpoint","Round","RoundTitle","SeedsList","useMedia","breakPoint","useState","window","innerWidth","isSmaller","setIsSmaller","useEffect","screenResized","addEventListener","removeEventListener","SeedItem","SeedTeam","SeedTime","SingleLineSeed","Seed","renderTitle","title","React","renderSeed","seed","breakpoint","teams","name","date","SingleElimination","rounds","rtl","roundClassName","bracketClassName","swipeableProps","renderSeedComponent","roundTitleComponent","isResponsive","console","log","data","map","round","roundIdx","key","className","seeds","idx","Fragment","roundIndex","seedIndex","rest","dir","SwipeableViews","style","minHeight","axis"],"mappings":"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"}